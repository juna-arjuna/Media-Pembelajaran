<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mengurutkan Kata-Kata Bahasa Inggris</title>
<style>
  :root {
    --blue-dark: #003366;
    --blue-light: #cce5ff;
    --white: #ffffff;
    font-family: system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  body {
    background: var(--blue-dark) url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1600&q=80') 
                center/cover no-repeat;
    min-height: 100vh;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .container {
    width: min(800px, 95%);
    background: var(--blue-light);
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    padding: 24px;
    box-sizing: border-box;
  }

  h1 {
    text-align: center;
    margin: 0 0 10px;
    font-size: 1.6rem;
  }

  .words-panel {
    background: rgba(255, 255, 255, 0.5);
    padding: 14px;
    border-radius: 10px;
    min-height: 100px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 16px;
  }

  .word {
    background: var(--white);
    padding: 8px 12px;
    border-radius: 8px;
    cursor: grab;
    font-weight: 600;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    user-select: none;
  }
  .word:active { cursor: grabbing; transform: scale(0.98); }

  .drop-area {
    background: var(--white);
    border-radius: 10px;
    border: 2px dashed rgba(0,0,0,0.1);
    min-height: 80px;
    padding: 10px;
    margin-bottom: 10px;
  }

  textarea {
    width: 100%;
    border: none;
    outline: none;
    resize: none;
    font-size: 1rem;
    min-height: 60px;
    background: transparent;
  }

  .controls {
    display: flex;
    gap: 10px;
    justify-content: center;
    margin-top: 8px;
    flex-wrap: wrap;
  }

  button {
    padding: 10px 14px;
    border-radius: 8px;
    border: none;
    font-weight: 700;
    color: #fff;
    cursor: pointer;
  }

  #btnCheck { background: #007bff; }
  #btnReset { background: #6c757d; }
  #btnNext { background: #28a745; }
  #btnPrev { background: #ffc107; color: #000; }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .notif {
    display: none;
    margin-top: 12px;
    padding: 10px;
    border-radius: 8px;
    font-weight: 600;
    text-align: center;
  }
  .notif.success { display: block; background: #e6ffef; color: #046b2e; border: 1px solid #b7f2d1; }
  .notif.error { display: block; background: #fff0f0; color: #8b1a1a; border: 1px solid #f3c2c2; }

  .nav {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
  }
</style>
</head>
<body>
  <main class="container">
    <h1>Mengurutkan Kata-Kata Bahasa Inggris</h1>
    <p id="instruction" style="text-align:center;">Susun kata-kata berikut menjadi kalimat yang benar.</p>

    <div id="words" class="words-panel"></div>

    <div class="drop-area">
      <textarea id="answer" placeholder=""></textarea>
    </div>

    <div class="controls">
      <button id="btnCheck">HASIL</button>
      <button id="btnReset">RESET</button>
    </div>
    <div id="notif" class="notif"></div>

    <div class="nav">
      <button id="btnPrev">PREVIOUS</button>
      <button id="btnNext" disabled>NEXT</button>
    </div>
  </main>

  <script>
    (function(){
      const sentences = [
        ["I", "am", "going", "to", "the", "market"],
        ["I", "will", "go", "to", "the", "garden"],
        ["I", "can", "sleep", "very", "well"],
        ["I", "will", "play", "football", "tomorrow"],
        ["I", "am", "speaking", "English", "very", "well"]
      ];

      let currentIndex = 0;
      const wordsEl = document.getElementById('words');
      const answerEl = document.getElementById('answer');
      const notif = document.getElementById('notif');
      const btnCheck = document.getElementById('btnCheck');
      const btnReset = document.getElementById('btnReset');
      const btnNext = document.getElementById('btnNext');
      const btnPrev = document.getElementById('btnPrev');
      let moved = new Set();

      function shuffle(arr) {
        const a = arr.slice();
        for (let i = a.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [a[i], a[j]] = [a[j], a[i]];
        }
        return a;
      }

      function renderWords(list) {
        wordsEl.innerHTML = '';
        list.forEach(w => {
          const btn = document.createElement('div');
          btn.textContent = w;
          btn.className = 'word';
          btn.draggable = true;
          btn.addEventListener('dragstart', e => {
            e.dataTransfer.setData('text/plain', w);
          });
          btn.addEventListener('click', () => moveWord(w, btn));
          wordsEl.appendChild(btn);
        });
      }

      function moveWord(word, el) {
        if (moved.has(word)) return;
        const sep = answerEl.value.trim() === '' ? '' : ' ';
        answerEl.value += sep + word;
        moved.add(word);
        el.style.visibility = 'hidden';
      }

      function loadSentence(index) {
        currentIndex = index;
        moved.clear();
        const shuffled = shuffle(sentences[index]);
        renderWords(shuffled);
        answerEl.value = '';
        notif.style.display = 'none';
        btnNext.disabled = true;
        document.getElementById('instruction').textContent = 
          `Soal No. ${index + 1} dari ${sentences.length}`;
      }

      document.querySelector('.drop-area').addEventListener('dragover', e => e.preventDefault());
      document.querySelector('.drop-area').addEventListener('drop', e => {
        e.preventDefault();
        const word = e.dataTransfer.getData('text/plain');
        const btn = Array.from(wordsEl.children).find(el => el.textContent === word);
        if (btn) moveWord(word, btn);
      });

      btnCheck.addEventListener('click', () => {
        const userAnswer = answerEl.value.trim().replace(/\s+/g,' ').toLowerCase();
        const correct = sentences[currentIndex].join(' ').toLowerCase();
        if (userAnswer === correct) {
          notif.className = 'notif success';
          notif.textContent = 'Hebat, Jawaban Anda Benar';
          btnNext.disabled = false;
        } else {
          notif.className = 'notif error';
          notif.textContent = 'Maaf. Jawaban Anda Salah, Ulangi lagi !';
          btnNext.disabled = true;
        }
        notif.style.display = 'block';
      });

      btnReset.addEventListener('click', () => loadSentence(currentIndex));

      btnNext.addEventListener('click', () => {
        if (currentIndex < sentences.length - 1) {
          loadSentence(currentIndex + 1);
        } else {
          notif.className = 'notif success';
          notif.textContent = 'Semua soal sudah selesai! ðŸŽ‰';
          notif.style.display = 'block';
          btnNext.disabled = true;
        }
      });

      btnPrev.addEventListener('click', () => {
        if (currentIndex > 0) loadSentence(currentIndex - 1);
      });

      loadSentence(0);
    })();
  </script>
</body>
</html>
